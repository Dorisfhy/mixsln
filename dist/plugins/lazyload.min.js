(function(e,t){e.document,t.plugin.lazyload={_options:null,_domready:!1,handleEvent:function(e){"scrollend"===e.type&&this._domready&&this.check()},check:function(){for(var e=this._options,n=e.dataAttr||"data-src",o=t.scroll.getElement().querySelectorAll("img["+n+"]"),i=t.scroll.getScrollTop(),s=i+t.scroll.getViewHeight(),l=0;o.length>l;l++){var a,c=o[l],d=t.scroll.offset(c);(d.top>i&&s>d.top||d.bottom>i&&s>d.bottom)&&(a=c.getAttribute(n))&&(c.setAttribute("src",a),c.removeAttribute(n))}},onNavigationSwitch:function(){this._domready=!1},onDomReady:function(e){this._options=e,this._domready=!0,this.check()},onPageShow:function(e,n){this._options=n,t.scroll.addEventListener("scrollend",this,!1)},onPageHide:function(){t.scroll.removeEventListener("scrollend",this)}}})(window,window.app);