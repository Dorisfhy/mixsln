(function(t,e){function n(){return e.scroll?e.scroll.getScrollTop():o.body.scrollTop}function a(){return e.scroll?e.scroll.getViewHeight():o.body.clientHeight}function i(t){return e.scroll?e.scroll.offset(t):t.getBoundingClientRect()}var o=t.document,r=t.navigator,s=r.appVersion,c=(/android/gi.test(s),/iphone|ipad/gi.test(s));e.plugin.lazyload={_el:null,_options:null,_startScrollTime:0,_endScrollTime:0,_scrollFlickTime:200,handleEvent:function(t){"scrollend"===t.type||"scroll"===t.type?this.check():"touchstart"===t.type?this._checkStart():"touchend"===t.type&&this._checkEnd()},_checkStart:function(){this._startScrollTime=Date.now()},_checkEnd:function(){var t=this;if(this._endScrollTime=Date.now(),this._endScrollTime-this._startScrollTime<this._scrollFlickTime)if(c)window.addEventListener("scroll",this,!1);else var e=o.body.scrollTop,n=setInterval(function(){e===o.body.scrollTop?(clearInterval(n),t.check()):e=o.body.scrollTop},50);else this.check()},check:function(){for(var t=this._options,o=t.dataAttr||"data-src",r=e.scroll.querySelectorAll("img["+o+"]"),s=n(),c=n()+a(),l=0;r.length>l;l++){var u,p=r[l],f=i(p);(f.top>s&&c>f.top||f.bottom>s&&c>f.bottom)&&(u=p.getAttribute(o))&&(p.setAttribute("src",u),p.removeAttribute(o))}},onPageStartup:function(t,n){t.el,this._options=n,e.scroll?e.scroll.addEventListener("scrollend",this,!1):(o.addEventListener("touchstart",this,!1),o.addEventListener("touchend",this,!1))},onPageTeardown:function(t){t.el,e.scroll?e.scroll.removeEventListener("scrollend",this):(o.removeEventListener("touchstart",this),o.removeEventListener("touchend",this))}}})(window,window.app);