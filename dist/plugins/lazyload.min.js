(function(e,t){function n(){return t.scroll?t.scroll.getScrollTop():i.body.scrollTop}function o(){return t.scroll?t.scroll.getViewHeight():i.body.clientHeight}function l(e){return t.scroll?t.scroll.offset(e):e.getBoundingClientRect()}var i=e.document,s=e.navigator,r=s.appVersion,c=(/android/gi.test(r),/iphone|ipad/gi.test(r));t.plugin.lazyload={_el:null,_options:null,_startScrollTime:0,_endScrollTime:0,_scrollFlickTime:200,handleEvent:function(e){"scrollend"===e.type||"scroll"===e.type?this.check():"touchstart"===e.type?this._checkStart():"touchend"===e.type&&this._checkEnd()},_checkStart:function(){this._startScrollTime=Date.now()},_checkEnd:function(){var e=this;if(this._endScrollTime=Date.now(),this._endScrollTime-this._startScrollTime<this._scrollFlickTime)if(c)window.addEventListener("scroll",this,!1);else var t=i.body.scrollTop,n=setInterval(function(){t===i.body.scrollTop?(clearInterval(n),e.check()):t=i.body.scrollTop},50);else this.check()},check:function(){for(var e=this._options,i=e.dataAttr||"data-src",s=t.scroll.querySelectorAll("img["+i+"]"),r=n(),c=n()+o(),a=0;s.length>a;a++){var d,u=s[a],h=l(u);(h.top>r&&c>h.top||h.bottom>r&&c>h.bottom)&&(d=u.getAttribute(i))&&(u.setAttribute("src",d),u.removeAttribute(i))}},onPageStartup:function(e,n){e.el,this._options=n,t.scroll?t.scroll.addEventListener("scrollend",this,!1):(i.addEventListener("touchstart",this,!1),i.addEventListener("touchend",this,!1))},onPageTeardown:function(e){e.el,t.scroll?t.scroll.removeEventListener("scrollend",this):(i.removeEventListener("touchstart",this),i.removeEventListener("touchend",this))}}})(window,window.app);