(function(t,e){var n=(t.document,t.sessionStorage),o=e.module.Navigation.instance,i=o.getStack(),r="mix_storage_001_";o.on("forward backward",function(){e.plugin.stateStorage.saveAll()}),e.plugin.stateStorage={saveAll:function(){i._stateIdx+"",i._states.length+"",n.setItem(r+"state_index",i._stateIdx),n.setItem(r+"state_length",i._states.length),i._states.forEach(function(t,e){n.setItem(r+"state_item["+e+"]",JSON.stringify(t))})},save:function(){var t=i._stateIdx,e=i._states[t];n.setItem(r+"state_item["+t+"]",JSON.stringify(e))},loadAll:function(){var t,e;for(i._stateIdx=parseInt(n.getItem(r+"state_index")||0),t=parseInt(n.getItem(r+"state_length")||0),e=0;t>e;e++)i._states[e]=JSON.parse(n.getItem(r+"state_item["+e+"]")||"{}")},load:function(){var t=i._stateIdx;i._states[t]=JSON.parse(n.getItem(r+"state_item["+t+"]")||"{}")},clear:function(){var t=i._stateLimit;n.removeItem(r+"state_index"),n.removeItem(r+"state_length");for(var e=0;t>e;e++)n.removeItem(r+"state_item["+e+"]")}},e.plugin.stateStorage.loadAll()})(window,window.app);