(function(t,e){function n(t){var e={};for(var a in t)if("pageMeta"!==a){var i=Object.prototype.toString.call(t[a]);"[object Number]"===i||"[object String]"===i?e[a]=t[a]:"[object Array]"===i?e[a]=t[a].map(function(t){return n(t)}):"[object Object]"===i&&(e[a]=n(t[a]))}return e}var a=t.sessionStorage,i=e.module.Navigation.instance.getStack(),o="mix_storage_001_";e.plugin.stateStorage={saveAll:function(){a.setItem(o+"state_index",i._stateIdx),a.setItem(o+"state_length",i._states.length),i._states.forEach(function(t,e){a.setItem(o+"state_item["+e+"]",JSON.stringify(n(t)))})},save:function(){var t=i._stateIdx,e=i._states[t];a.setItem(o+"state_item["+t+"]",JSON.stringify(n(e)))},loadAll:function(){var t,e;for(i._stateIdx=parseInt(a.getItem(o+"state_index")||0),t=parseInt(a.getItem(o+"state_length")||0),e=0;t>e;e++)i._states[e]=JSON.parse(a.getItem(o+"state_item["+e+"]")||"{}")},load:function(){var t=i._stateIdx;i._states[t]=JSON.parse(a.getItem(o+"state_item["+t+"]")||"{}")},clear:function(){var t=i._stateLimit;a.removeItem(o+"state_index"),a.removeItem(o+"state_length");for(var e=0;t>e;e++)a.removeItem(o+"state_item["+e+"]")},onNavigationSwitch:function(){this.saveAll()},onAppStart:function(){this.loadAll()}}})(window,window.app);