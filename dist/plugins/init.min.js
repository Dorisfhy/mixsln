(function(n,i){var t=i.util;i.plugin.init=function(){i.page.each(function(n){var o=n.plugins;o&&(n.on("ready",function(){t.each(o,function(t,o){if(t!==!1){var e=i.navigation.getState(),u=i.plugin[o];e.plugins||(e.plugins={}),e.plugins[o]||(e.plugins[o]={}),t===!0&&(t=n.plugins[o]={}),u&&u.on&&u.on(n,{page:t,state:e.plugins[o]})}})}),n.on("unloaded",function(){t.each(o,function(t,o){if(t!==!1){var e=i.navigation.getState(),u=i.plugin[o];u&&u.off&&u.off(n,{page:t,state:e.plugins[o]})}})}))})}})(window,window.app);