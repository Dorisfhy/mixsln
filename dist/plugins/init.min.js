(function(t,e){var n=e.util;e.plugin.init=function(){e.page.each(function(t){var a=t.plugins;a&&(t.on("ready",function(){n.each(a,function(n,a){if(n!==!1){var i=e.navigation.getState(),o=e.plugin[a];i.plugins||(i.plugins={}),i.plugins[a]||(i.plugins[a]={}),n===!0&&(n=t.plugins[a]={}),o&&o.on&&o.on(t,{page:n,state:i.plugins[a]})}})}),t.on("unloaded",function(){n.each(a,function(n,a){if(n!==!1){var i=e.navigation.getState(),o=e.plugin[a];o&&o.off&&o.off(t,{page:n,state:i.plugins[a]})}})}))})}})(window,window.app);