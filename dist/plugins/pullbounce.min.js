(function(e,t){t.plugin.pullbounce={_options:null,_page:null,_update:!1,_updateHandler:null,handleEvent:function(e){var n=this,o=this._page,i=o.el,l=this._options,s=t.scroll.getBoundaryOffset();"pulldown"===e.type?(this._update=s>i.bounceTop?"pulldown":!1,this._updateHandler=l.onPullDown.call(o,s)):"pullup"===e.type?(this._update=s>i.bounceBottom?"pullup":!1,this._updateHandler=l.onPullUp.call(o,s)):"panend"===e.type&&s&&this._update&&this._updateHandler&&(t.scroll.stopBounce(),setTimeout(function(){n._updateHandler.call(o,function(){t.scroll.refresh(),t.scroll.resumeBounce()})},400))},onPageDefine:function(e,t){e.scroll={bounceTop:t.top||0,bounceBottom:t.bottom||0}},onPageShow:function(e,n){this._page=e,this._options=n,this._update=!1,this._updateHandler=null,n.top&&t.scroll.addEventListener("pulldown",this,!1),n.bottom&&t.scroll.addEventListener("pullup",this,!1),t.scroll.addEventListener("panend",this,!1)},onPageHide:function(e,n){n.top&&t.scroll.removeEventListener("pulldown",this,!1),n.bottom&&t.scroll.removeEventListener("pullup",this,!1),t.scroll.removeEventListener("panend",this,!1)}}})(window,window.app);