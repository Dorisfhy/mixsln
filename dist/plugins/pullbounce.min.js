(function(t,e){e.plugin.pullbounce={_options:null,_page:null,_pullType:!1,handleEvent:function(t){var n=this,o=this._page,a=o.el,i=this._options,r=e.scroll.getBoundaryOffset();"pulldown"===t.type?(this._pullType=r>a.bounceTop?"pulldown":!1,i.onPullDown.call(o,r)):"pullup"===t.type?(this._pullType=r>a.bounceBottom?"pullup":!1,i.onPullUp.call(o,r)):"panend"===t.type&&r&&this._pullType&&i.onPullEnd&&(e.scroll.stopBounce(),setTimeout(function(){i.onPullEnd.call(o,n._pullType,function(){e.scroll.refresh(),e.scroll.resumeBounce()})},400))},onPageDefine:function(t,e){t.scroll={bounceTop:e.top||0,bounceBottom:e.bottom||0}},onPageShow:function(t,n){this._page=t,this._options=n,this._pullType=!1,n.top&&e.scroll.addEventListener("pulldown",this,!1),n.bottom&&e.scroll.addEventListener("pullup",this,!1),e.scroll.addEventListener("panend",this,!1)},onPageHide:function(t,n){n.top&&e.scroll.removeEventListener("pulldown",this,!1),n.bottom&&e.scroll.removeEventListener("pullup",this,!1),e.scroll.removeEventListener("panend",this,!1)}}})(window,window.app);