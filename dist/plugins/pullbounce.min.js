(function(e,t){t.plugin.pullbounce={_el:null,_options:null,_page:null,_update:!1,_updateHandler:null,handleEvent:function(e){var t=this,n=this._el,i=this._page,l=this._options,o=n.getBoundaryOffset();"pulldown"===e.type?(this._update=o>n.bounceTop?"pulldown":!1,this._updateHandler=l.onPullDown.call(i,o)):"pullup"===e.type?(this._update=o>n.bounceBottom?"pullup":!1,this._updateHandler=l.onPullUp.call(i,o)):"panend"===e.type&&o&&this._update&&this._updateHandler&&(n.stopBounce(),setTimeout(function(){t._updateHandler.call(i,function(){n.refresh(),n.resumeBounce()})},400))},onPageDefine:function(e,t){e.scroll={bounceTop:t.top||0,bounceBottom:t.bottom||0}},onPageStartup:function(e,t){var n=this._el=e.el;this._page=e,this._options=t,n.refresh&&(this._update=!1,this._updateHandler=null,t.top&&n.addEventListener("pulldown",this,!1),t.bottom&&n.addEventListener("pullup",this,!1),n.addEventListener("panend",this,!1))},onPageTeardown:function(e,t){var n=e.el;n.refresh&&(t.top&&n.removeEventListener("pulldown",this,!1),t.bottom&&n.removeEventListener("pullup",this,!1),n.removeEventListener("panend",this,!1))}}})(window,window.app);