(function(a,b){function e(){return d.fn.getScrollTop()}function f(){return d.fn.getScrollHeight()}function g(){return d.offsetHeight}var d,c=a.document;b.plugin.lazyload={_options:null,once:function(){var k,l,a=this._options,b=c.querySelectorAll(a.itemSelector),d=e(),i=(f(),a.itemHeight),j=g()+a.viewHeightPatch;k=Math.floor(d/i),l=Math.ceil((d+j)/i);for(var m=k;l>m&&b.length>m;m++){var n=b[m],o=n.querySelector("img[data-src]"),p=o.getAttribute("data-src");p&&(o.setAttribute("src",p),o.setAttribute("data-src",""))}},on:function(a,c){this._options=c,c.dataAttr||(c.dataAttr="data-src"),d=b.component.get("scroll"),b.component.on("scrollEnd",this.once,this),a.on("rendered",this.once,this)},off:function(a){b.component.off("scrollEnd",this.once,this),a.off("rendered",this.once,this)}}})(window,window.app);