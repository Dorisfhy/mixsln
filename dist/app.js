(function(a,b){function c(a,b){if(q[a])return q[a];var c=a.replace(j,"").replace(k,"");return b&&o.forEach(function(a,b){c=c.replace(a,p[b])}),q[a]=c}function d(a,b){return a[b]||(a[b]={})}function e(a,b){return a[b]}function f(a,b){var d=a.split(i);return d.pop(),b.forEach(function(b){var f,g,h,j;if(b=c(b,!0),0===b.indexOf(".")){for(f=b.split(i),g=d.slice();j=f.shift();)".."===j?g.pop():"."!==j&&g.push(j);h=g.join(i)}if(h&&b!==h&&(q[b]=h),!e(m,h||b))throw new Error('require a undefined module "'+(h||b)+'" in "'+a+'"')}),function(a){return h(a)}}function g(a,b,e){var g,h,i;if(a=c(a),h=d(m,a),i=h.exports)throw new Error(a+" has already defined");h.id=a,i=h.exports={},g=f(a,b),"function"==typeof e?(h.executed=!1,h.factory=e,h.exports=function(){var a=this,b=a.factory;return a.exports=b(g,a.exports,a)||a.exports,a.executed=!0,delete a.factory,a.exports}):(h.executed=!0,h.exports=e)}function h(a){a=c(a,!0);var b=e(m,a);if(b&&b.exports)return b.executed?b.exports:b.exports();throw new Error(a+" has not defined")}if(!a.define){var i="/",j=/^#/,k=/\.js$/i,l=a.modules||(a.modules={}),m=l,n=a,o=(a.head||b.head,[]),p=[],q={};n.define=g,n.require=h}})(window,window.document),define("#mix/core/0.3.0/base/reset",[],function(){var a,b=Object.prototype.toString,c=Object.prototype.hasOwnProperty,d=Array.prototype.slice;if(Object.keys||(Object.keys=function(a){var b=[],d=0;for(var e in a)c.call(a,e)&&(b[d++]=e);return b}),Object.each||(Object.each=function(a,b,d){if(null!=a)if(c.call(a,"length"))Array.prototype.forEach.call(a,b,d);else if("object"==typeof a)for(var e in a)c.call(a,e)&&b.call(d,a[e],e,a)}),Object.clone||(Object.clone=function(a,b){return Object.isTypeof(a,"array")?b?arr.map(function(a){return Object.clone(a,b)}):a.slice():"object"==typeof a?Object.extend({},a,b):a}),Object.extend||(Object.extend=function(b,c,d){var e=Array.make(arguments),b=e.shift(),d=e.pop();return Object.isTypeof(d,"boolean")||(e.push(d),d=a),Object.each(e,function(a){Object.each(a,function(a,c){b[c]=d?Object.clone(a):a})}),b}),!Object.isTypeof){var e=/^\[object\s\s*(\w\w*)\s*\]$/;Object.isTypeof=function(a,c){var d,f=b.call(a).toLowerCase(),g=e.exec(f);return g?(d=g[1],c?d===c.toLowerCase():d):void 0}}if(Array.make||Array.from||(Array.from=Array.make=function(a){return c.call(a,"length")?d.call(a):void 0}),Array.equal||(Array.equal=function(a,b){if(a.length==b.length){for(var c=0;a.length>c;c++)if(a[c]!==b[c])return!1;return!0}return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){for(var c=this,d=c.length,e=0;d>e;e++)e in c&&a.call(b,c[e],e,c)}),Array.prototype.map||(Array.prototype.map=function(a,b){for(var c=this,d=c.length,e=new Array(d),f=0;d>f;f++)f in c&&(e[f]=a.call(b,c[f],f,c));return e}),Array.prototype.filter||(Array.prototype.filter=function(a,b){for(var c,d=this,e=d.length,f=[],g=0;e>g;g++)c=d[g],a.call(b,c,g,d)&&f.push(c);return f}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var d=this,e=d.length,f=b||0;if(!e||f>=e)return-1;for(0>f&&(f+=e);length>f;f++)if(c.call(d,f)&&a===d[f])return f;return-1}),!String.prototype.trim){var f=/^\s\s*/,g=/\s\s*$/;String.prototype.trim=function(){return this.replace(f,"").replace(g,"")}}if(!Function.prototype.bind){var h=function(){};Function.prototype.bind=function(a){var b,c=this,d=Array.make(arguments);if(!Object.isTypeof(c,"function"))throw new TypeError;return d=d.slice(1),b=function(){var e=Array.make(arguments);if(!(this instanceof b))return c.apply(a,d.concat(e));h.prototype=c.prototype;var f=new h,g=c.apply(f,d.concat(e));return Object(g)===g?g:f}}}}),define("#mix/core/0.3.0/base/class",[],function(a,b,c){function d(a){return this instanceof d||!Object.isTypeof(a,"function")?void 0:h(a)}function e(){}function f(a){return{__proto__:a}}function e(){}function f(a){return e.prototype=a,new e}function g(a){var b,c;for(b in a)c=a[b],d.Mutators.hasOwnProperty(b)?d.Mutators[b].call(this,c):this.prototype[b]=c}function h(a){return a.extend=d.extend,a.implement=g,a}d.create=function(a,b){function c(){a.apply(this,arguments),this.constructor===c&&this.initialize&&this.initialize.apply(this,arguments)}return Object.isTypeof(a,"function")||(b=a,a=null),b||(b={}),a||(a=b.Extends||d),b.Extends=a,a!==d&&Object.extend(c,a),g.call(c,b),h(c)},d.extend=function(a){return a||(a={}),a.Extends=this,d.create(a)},d.Mutators={Extends:function(a){var b=this.prototype,c=f(a.prototype);Object.extend(c,b),c.constructor=this,this.prototype=c,this.superclass=a.prototype},Implements:function(a){Object.isTypeof(a,"array")||(a=[a]);for(var b,c=this.prototype;b=a.shift();)Object.extend(c,b.prototype||b)},Statics:function(a){Object.extend(this,a)}},Object.__proto__,c.exports=d}),define("#mix/core/0.3.0/base/message",["mix/core/0.3.0/base/reset","mix/core/0.3.0/base/class"],function(a,b,c){function d(a,b){var c,d,e;return(d=b.match(g))&&"*"===d[1]?(c=[],e=new RegExp("^(@[^\\:]+\\:)?"+b+"$"),Object.each(a,function(a,b){e.test(b)&&(c=c.concat(a))})):c=a[b],c}a("mix/core/0.3.0/base/reset");var e=a("mix/core/0.3.0/base/class"),f=/\s+/,g=/^\@([^:]+)\:/,h=":",i=0,j=e.create({initialize:function(a,b,c){var d=this;d.__msgObj={name:a||"anonymous",id:b||i++,cache:{},defaultContext:c||d}},on:function(a,b,c){var d,e,i,j=this,k=j.__msgObj.cache,l=j.__msgObj.defaultContext;if(!b)return j;for(a&&(d=a.match(g))?a=a.split(h)[1]:d=[""],a=a.split(f);e=a.shift();)e=d[0]+e,i=k[e]||(k[e]=[]),i.push(b,c||l);return j},off:function(a,b,c){var d,e,i,j=this,k=j.__msgObj.cache,l="";if(!(a||b||c))return delete j.__msgObj.events,j;for(a&&(l=a.match(g))?a=a.split(h)[1].split(f):(a=Object.keys(k),l=[""]);d=a.shift();)if(d=l[0]+a,e=k[d])if(b||c)for(i=e.length-2;i>=0;i-=2)b&&e[i]!==b||c&&e[i+1]!==c||e.splice(i,2);else delete k[d];return j},has:function(a,b,c){var e,f=this,g=f.__msgObj.cache,h=d(g,a);if(!h)return!1;if(!b&&!c)return!0;for(e=h.length-2;e>=0;e-=2)if(!(b&&h[e]!==b||c&&h[e+1]!==c))return!0;return!1},once:function(a,b,c){function d(){b.apply(this,arguments),e.off(a,d,c)}var e=this;e.on(a,d,c)},trigger:function(a){var b,c,e,g,h,i,j=this,k=j.__msgObj.cache,l=j.__msgObj.defaultContext,m=[];for(a=a.split(f),g=1,h=arguments.length;h>g;g++)m[g-1]=arguments[g];for(;b=a.shift();){if(j.log(b+":("+m.join(",")+")"),(c=k.all)&&(c=c.slice()),(e=d(k,b))&&(e=e.slice()),e)for(g=0,h=e.length;h>g;g+=2)e[g].apply(e[g+1]||l,m);if(c)for(i=[b].concat(m),g=0,h=c.length;h>g;g+=2)c[g].apply(c[g+1]||l,i)}return j},log:function(a){var b=this;console.log("[("+b.__msgObj.id+")"+b.__msgObj.name+"]"+a)}});j.SPLITER_REG=f,j.AT_REG=g,j.singleton=new j("global"),c.exports=j}),define("#mix/core/0.3.0/url/router",["mix/core/0.3.0/base/reset","mix/core/0.3.0/base/class","mix/core/0.3.0/base/message"],function(a,b,c){a("mix/core/0.3.0/base/reset");var d=a("mix/core/0.3.0/base/class"),e=a("mix/core/0.3.0/base/message"),f=window,g=(f.document,f.location),h=d.create({Implements:e,initialize:function(){var a=this;e.prototype.initialize.call(a,"router"),a._handlers=[],a._options={},a._changeHanlder=a._changeHanlder.bind(a)},_getHash:function(){return g.hash.slice(1)||""},_setHash:function(a){g.hash=a},_resetHandler:function(){var a=this,b=a._handlers;Object.each(b,function(a){a.matched=!1})},_changeHanlder:function(){var a=this;a._resetHandler(),a.match()},start:function(a){var b=this;return h.started?!1:(h.started=!0,f.addEventListener("hashchange",b._changeHanlder,!1),a=Object.extend(b._options,a||{}),a.firstMatch!==!1&&b.match(),!0)},stop:function(){var a=this;return h.started?(f.removeEventListener("hashchange",a._changeHanlder,!1),h.started=!1,a._options={},a._handlers=[],a._fragment=null,!0):!1},match:function(){var a,b,c=this,d=(c._options,c._handlers),e=!0;if(h.started){b=c._fragment=c._getHash();for(var f=0;d.length>f&&(a=d[f],a.matched||!a.route.test(b)||(e=!1,a.matched=!0,a.callback(b),!a.last));f++);e&&c.trigger("unmatched",b)}},add:function(a,b,c){var d=this,e=d._handlers;e.push({route:a,callback:b,matched:!1,last:!!c})},remove:function(a,b){for(var c=this,d=c._handlers,e=0;d.length>e;e++){var f=d[e];if(f.route.source===a.source&&(!b||f.callback===b))return d.splice(e,1)}},navigate:function(a){var a,b=this;h.started&&(a||(a=""),b._fragment!==a&&b._setHash(a))}});h.started=!1,h.singleton=new h,c.exports=h}),define("#mix/core/0.3.0/url/navigate",["mix/core/0.3.0/base/reset","mix/core/0.3.0/base/class","mix/core/0.3.0/base/message","mix/core/0.3.0/url/router"],function(a,b,c){a("mix/core/0.3.0/base/reset");var d=a("mix/core/0.3.0/base/class"),e=a("mix/core/0.3.0/base/message"),f=a("mix/core/0.3.0/url/router"),g=/\:(\w\w*)/g,h=/\*(\w\w*)/g,i=/P\<(\w\w*?)\>/g,j="!",k=window,l=(k.document,k.history);k.location;var m=d.create({Implements:e,initialize:function(a){var b=this;e.prototype.initialize.call(b,"navigate"),b._move=null,b._datas=null,b._routes={},b._states=[],b._stateIdx=0,b._stateLimit=a.stateLimit||100,b._router=a.useRouter},_convertParams:function(a){return a.replace(g,"(P<$1>[^\\/]*?)").replace(h,"(P<$1>.*?)")},_extractNames:function(a){var b=a.match(i),c={};return b&&Object.each(b,function(a,b){c[a.replace(i,"$1")]=b}),c},_extractArgs:function(a){var b=a.split("&");return a={},Object.each(b,function(b){if(b){var c=b.split("=");a[c[0]]=c[1]}}),a},_parseRoute:function(a){return a=a.replace(i,""),new RegExp("^("+a+")("+j+".*?)?$")},_stateEquals:function(a,b){return a&&b?a.name!==b.name||a.fragment!==b.fragment?!1:!0:!1},_pushState:function(a,b,c,d){var e=this,f=e._states,g=e._stateIdx,h=e._stateLimit,i=f.length,j=e._move,k=e._datas,l=f[g-1],m=f[g+1],n={name:a,fragment:b,params:c,args:d};return null==j&&(j=!k&&e._stateEquals(l,n)?"backward":"forward"),"backward"===j?0===g&&i>0?f.unshift(n):g>0&&(g--,n=l):"forward"===j&&(g===h-1?(f.shift(),f.push(n)):0===g&&0===i?f.push(n):!k&&e._stateEquals(m,n)?(g++,n=m):(g++,f.splice(g),f.push(n))),n.move=j,k&&(n.datas=k),e._move=null,e._datas=null,e._stateIdx=g,e.trigger(j,n),n},getState:function(){var a=this;return a._states[a._stateIdx]},getStateIndex:function(){var a=this;return a._stateIdx},addRoute:function(a,b,c){var d,e,f=this;1===arguments.length&&(c=arguments[0],a=null,b=null),c||(c={}),c["default"]?f._router.on("unmatched",function(b){var d=f._pushState(a,b);c.callback&&c.callback(d)}):a&&b&&(b=f._convertParams(b),d=f._extractNames(b),e=f._parseRoute(b),f._routes[a]=e,f._router.add(e,function(b){var g,h=b.match(e).slice(2),i=f._extractArgs(h.pop()||""),j={};Object.each(d,function(a,b){j[b]=h[a]}),g=f._pushState(a,b,j,i),c.callback&&c.callback(g)},c.last))},removeRoute:function(a){var b=this,c=b._routes[a];c&&b._router.remove(c)},forward:function(a,b){var c=this,d=c._states,e=c._stateIdx,f=d[e]||{},g=[];c._move="forward",b||(b={}),a?(b.datas||f.fragment!==a)&&(b.args&&Object.each(b.args,function(a,b){g.push(b+"="+a)}),b.datas&&(c._datas=Object.clone(b.datas)),c._router.navigate(a+(g.length?j+g.join("&"):""))):l.forward()},backward:function(){var a=this,b=a._stateIdx;0!==b&&(a._move="backward",l.back())}});m.singleton=new m({useRouter:f.singleton}),c.exports=m}),define("#mix/sln/0.1.0/modules/gesture",["mix/core/0.3.0/base/reset","mix/core/0.3.0/base/class"],function(a){function b(a,b,c,d,e,f,g,h){var i=Math.atan2(h-f,g-e)-Math.atan2(d-b,c-a),j=Math.sqrt((Math.pow(h-f,2)+Math.pow(g-e,2))/(Math.pow(d-b,2)+Math.pow(c-a,2))),k=[e-j*a*Math.cos(i)+j*b*Math.sin(i),f-j*b*Math.cos(i)-j*a*Math.sin(i)];return{rotate:i,scale:j,translate:k,matrix:[[j*Math.cos(i),-j*Math.sin(i),k[0]],[j*Math.sin(i),j*Math.cos(i),k[1]],[0,0,1]]}}function c(a,b,c){var d=document.createEvent("HTMLEvents");return d.initEvent(a,!0,!0),b&&(c?Object.each(c,function(a){d[a]=b[a]}):Object.extend(d,b)),d}a("mix/core/0.3.0/base/reset");var d=window,e=d.document,f=["screenX","screenY","clientX","clientY","pageX","pageY"],g=a("mix/core/0.3.0/base/class"),h=g.create({initialize:function(a){var b=this;b._el=a,b._myGestures={},b._lastTapTime=0/0,b._onStart=b._onStart.bind(b),b._onDoing=b._onDoing.bind(b),b._onEnd=b._onEnd.bind(b),b._onTap=b._onTap.bind(b)},getElement:function(){return that._el},enable:function(){var a=this,b=a._el;b.addEventListener("touchstart",a._onStart,!1),b.addEventListener("tap",a._onTap,!1)},disable:function(){var a=this,b=a._el;b.removeEventListener("touchstart",a._onStart),b.removeEventListener("tap",a._onTap)},_onStart:function(a){var b=this,d=b._el,f=b._myGestures;if(0===Object.keys(f).length&&(e.body.addEventListener("touchmove",b._onDoing,!1),e.body.addEventListener("touchend",b._onEnd,!1)),Object.each(a.changedTouches,function(a){var b={};for(var e in a)b[e]=a[e];var g={startTouch:b,startTime:Date.now(),status:"tapping",pressingHandler:setTimeout(function(){if("tapping"===g.status){g.status="pressing";var a=c("press",b);d.dispatchEvent(a)}clearTimeout(g.pressingHandler),g.pressingHandler=null},500)};f[a.identifier]=g}),2==Object.keys(f).length){var g=c("dualtouchstart");g.touches=JSON.parse(JSON.stringify(a.touches)),d.dispatchEvent(g)}},_onDoing:function(a){var d=this,e=d._el,g=d._myGestures;if(Object.each(a.changedTouches,function(a){var b,d,h,i,j=g[a.identifier];j&&(b=a.clientX-j.startTouch.clientX,d=a.clientY-j.startTouch.clientY,h=Math.sqrt(Math.pow(b,2)+Math.pow(d,2)),"tapping"==j.status&&h>10&&(j.status="panning",i=c("panstart",a,f),e.dispatchEvent(i)),"panning"==j.status&&(i=c("pan",a,f),i.displacementX=b,i.displacementY=d,e.dispatchEvent(i)))}),2==Object.keys(g).length){var h,i,j=[],k=[];Object.each(a.touchs,function(a){var b;(b=g[a.identifier])&&(j.push([b.startTouch.clientX,b.startTouch.clientY]),k.push([a.clientX,a.clientY]))}),h=b(j[0][0],j[0][1],j[1][0],j[1][1],k[0][0],k[0][1],k[1][0],k[1][1]),i=c("dualtouch",h),i.touches=JSON.parse(JSON.stringify(a.touches)),e.dispatchEvent(i)}},_onEnd:function(a){var b,d=this,g=d._el,h=d._myGestures;2==Object.keys(h).length&&(b=c("dualtouchend"),b.touches=JSON.parse(JSON.stringify(a.touches)),g.dispatchEvent(b));for(var i=0;a.changedTouches.length>i;i++){var j=a.changedTouches[i],k=j.identifier,l=h[k];if(l){if(l.pressingHandler&&(clearTimeout(l.pressingHandler),l.pressingHandler=null),"tapping"===l.status&&(b=c("tap",j,f),g.dispatchEvent(b)),"panning"===l.status){b=c("panend",j,f),g.dispatchEvent(b);var m=Date.now()-l.startTime;300>m&&(b=c("flick",j,f),b.duration=m,b.valocityX=(j.clientX-l.startTouch.clientX)/m,b.valocityY=(j.clientY-l.startTouch.clientY)/m,b.displacementX=j.clientX-l.startTouch.clientX,b.displacementY=j.clientY-l.startTouch.clientY,g.dispatchEvent(b))}"pressing"===l.status&&(b=c("pressend",j,f),g.dispatchEvent(b)),delete h[k]}}0==Object.keys(h).length&&(e.body.removeEventListener("touchend",d._onEnd),e.body.removeEventListener("touchmove",d._onDoing))},_onTap:function(a){var b=this,c=b._el,d=b._lastTapTime;if(500>Date.now()-d){var e=document.createEvent("HTMLEvents");e.initEvent("doubletap",!0,!0),Object.each(f,function(b){e[b]=a[b]}),c.dispatchEvent(e)}b._lastTapTime=Date.now()}});return h}),define("#mix/sln/0.1.0/modules/transform",[],function(a,b){function c(a,b){return[[(a/3+(a+b)/3-a)/(b-a),(a*a/3+2*a*b/3-a*a)/(b*b-a*a)],[(b/3+(a+b)/3-a)/(b-a),(b*b/3+2*a*b/3-a*a)/(b*b-a*a)]]}function d(a){var b,c;if(b=getComputedStyle(a).webkitTransform,"none"!==b){if(c=b.match(i))return parseInt(c[1])||0;if(c=b.match(j))return parseInt(c[1])||0}return 0}function e(a){var b,c;if(b=getComputedStyle(a).webkitTransform,"none"!==b){if(c=b.match(i))return parseInt(c[2])||0;if(c=b.match(j))return parseInt(c[2])||0}return 0}function f(a,b){return a+="",b+="",0>a.indexOf("%")&&"0"!==a&&(a+="px"),0>b.indexOf("%")&&"0"!==b&&(b+="px"),l&&m?"translate3d("+a+", "+b+", 0)":"translate("+a+", "+b+")"}function g(a,b,c){function d(e){e.srcElement===a&&e.propertyName==b&&(a.style.webkitTransition="none",a.removeEventListener("webkitTransitionEnd",d,!1),c&&setTimeout(c,50))}a.parentNode,a.addEventListener("webkitTransitionEnd",d,!1)}function h(a,b,c,d,e,h,i){var j="-webkit-transform";a.parentNode,g(a,j,i),a.style.webkitTransition=[j,b,c,d].join(" "),a.style.webkitTransform=f(e,h)}var i=/^matrix3d\(\d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, ([\d-]+), ([-\d]+), [\d-]+, \d+\)/,j=/^matrix\(\d+, \d+, \d+, \d+, ([-\d]+), ([-\d]+)\)$/,k=navigator.appVersion,l=(/android/gi.test(k),/iphone|ipad/gi.test(k)),m="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix;b.getY=e,b.getX=d,b.getTranslate=f,b.getBezier=c,b.start=h}),define("#mix/sln/0.1.0/modules/scroll",["mix/core/0.3.0/base/reset","mix/core/0.3.0/base/class","mix/sln/0.1.0/modules/gesture","mix/sln/0.1.0/modules/transform"],function(a){function b(a){var b=a.parentNode,c=getComputedStyle(b);return 0-a.scrollHeight+b.offsetHeight-parseInt(c.paddingTop)-parseInt(c.paddingBottom)-parseInt(c.marginTop)-parseInt(c.marginBottom)}a("mix/core/0.3.0/base/reset");var c=window,d=c.document,e=(c.navigator,a("mix/core/0.3.0/base/class")),f=a("mix/sln/0.1.0/modules/gesture"),g=a("mix/sln/0.1.0/modules/transform"),h=!1,i={element:{position:"relative","-webkit-backface-visibility":"hidden","-webkit-transform-style":"preserve-3d"}};Object.each(i,function(a,b){var c="";Object.each(a,function(a,b){c+=b+":"+a+";"}),i[b].cssText=c});var j=e.create({initialize:function(a){var b=this;b._el=a,b._gesture=new f(a),b._originalY=null,b._currentY=null,b._preventBodyTouch=b._preventBodyTouch.bind(b),b._onTouchStart=b._onTouchStart.bind(b),b._onPanStart=b._onPanStart.bind(b),b._onPan=b._onPan.bind(b),b._onPanEnd=b._onPanEnd.bind(b),b._onFlick=b._onFlick.bind(b),a.style.cssText=i.element.cssText,h||(h=!0,d.body.addEventListener("touchmove",b._preventBodyTouch,!1))},getElement:function(){return this._el},enable:function(){var a=this,b=a._el;a._gesture.enable(),b.addEventListener("touchstart",a._onTouchStart,!1),b.addEventListener("panstart",a._onPanStart,!1),b.addEventListener("pan",a._onPan,!1),b.addEventListener("panend",a._onPanEnd,!1),b.addEventListener("flick",a._onFlick,!1)},disable:function(){var a=this,b=a._el;a._gesture.disable(),b.removeEventListener("touchstart",a._onTouchStart),b.removeEventListener("panstart",a._onPanStart),b.removeEventListener("pan",a._onPan),b.removeEventListener("panend",a._onPanEnd),b.removeEventListener("flick",a._onFlick)},_preventBodyTouch:function(a){return a.preventDefault(),!1},_onTouchStart:function(){var a=this,b=a._el;b.style.webkitTransition="none",b.style.webkitTransform=getComputedStyle(b).webkitTransform,b.style.height="auto",b.style.height=b.offsetHeight+"px"},_onPanStart:function(){var a=this,b=a._el;a._originalY=g.getY(b)},_onPan:function(a){var c,d=this,e=d._el,f=b(e),h=d._originalY;c=d._currentY=h+a.displacementY,e.style.webkitTransform=c>0?g.getTranslate(0,c/2):f>c?g.getTranslate(0,(f-c)/2+c):g.getTranslate(0,c)},_onPanEnd:function(){var a=this,c=a._el,d=a._currentY,e=b(c),f=null;d>0&&(f=0),e>d&&(f=e),null!=f&&g.start(c,"0.4s","ease-out","0s",0,f)},_onFlick:function(a){var c=this,d=c._el,e=c._currentY,f=b(d);if(!(f>e||e>0)){var h=g.getY(d),i=a.valocityY;i>1.5&&(i=1.5),-1.5>i&&(i=-1.5);var j=.0015*(i/Math.abs(i)),k=i/j,l=h+k*i/2;if(l>0||f>l){var m=l>0?1:-1,n=l>0?0:f;l=n,k=(m*Math.sqrt(2*j*(l-h)+i*i)-i)/j,v=i-j*k,g.start(d,k.toFixed(0)+"ms","cubic-bezier("+g.getBezier(-i/j,-i/j+k)+")","0s",0,l.toFixed(0),function(){i=v,h=l,j=.0045*(i/Math.abs(i)),k=i/j,l=h+k*i/2,g.start(d,k.toFixed(0)+"ms","cubic-bezier("+g.getBezier(-k,0)+")","0s",0,l.toFixed(0),function(){g.start(d,"0.4s","ease-out","0s",0,n)})})}else g.start(d,k.toFixed(0)+"ms","cubic-bezier("+g.getBezier(-k,0)+")","0s",0,l.toFixed(0))}}});return j}),define("#mix/sln/0.1.0/modules/transition",["mix/core/0.3.0/base/reset","mix/core/0.3.0/base/class","mix/core/0.3.0/base/message","mix/sln/0.1.0/modules/transform"],function(a){a("mix/core/0.3.0/base/reset");var b=window,c=b.document,d=a("mix/core/0.3.0/base/class"),e=a("mix/core/0.3.0/base/message"),f=a("mix/sln/0.1.0/modules/transform"),g={element:{position:"relative","-webkit-backface-visibility":"hidden","-webkit-transform-style":"preserve-3d"},activePort:{display:"block","-webkit-box-sizing":"border-box",width:"33.33%",position:"relative",left:"33.33%"},notActivePort:{display:"none","-webkit-box-sizing":"border-box",width:"33.33%",position:"relative",left:"33.33%"}};Object.each(g,function(a,b){var c="";Object.each(a,function(a,b){c+=b+":"+a+";"}),g[b].cssText=c});var h=d.create({Implements:e,initialize:function(a){var b=this;e.prototype.initialize.call(b,"transition"),b._el=a,b._activePort=c.createElement("div"),b._notActivePort=c.createElement("div"),a.style.cssText=g.element.cssText,b._activePort.style.cssText=g.activePort.cssText,b._notActivePort.style.cssText=g.notActivePort.cssText},getElement:function(){return this._el},getActivePort:function(){return this._activePort},getNotActivePort:function(){return this._notActivePort},enable:function(){var a=this,b=a._el,c=a._activePort,d=a._notActivePort,e=b.innerHTML;b.innerHTML="",b.style.width="300%",b.style.left="-100%",b.appendChild(c),b.appendChild(d),c.innerHTML=e},disable:function(){var a=this,b=a._el,c=a._activePort,d=a._notActivePort,e=c.innerHTML;c.innerHTML="",d.innerHTML="",b.removeChild(c),b.removeChild(d),b.style.width="100%",b.style.left="0",b.innerHTML=e},forward:function(){var a,b,c=this,d=c._el,e=c._activePort,g=c._notActivePort;c._activePort=g,c._notActivePort=e,b=f.getY(d),a="-33.33%",f.start(d,"1s","ease-in-out",0,a,b,function(){d.style.webkitTransform=f.getTranslate(0,0),g.style.display="block",e.style.display="none",c.trigger("forwardTransitionEnd")})},backward:function(){var a,b,c=this,d=c._el,e=c._activePort,g=c._notActivePort;c._activePort=g,c._notActivePort=e,b=f.getY(d),a="33.33%",f.start(d,"1s","ease-in-out",0,a,b,function(){d.style.webkitTransform=f.getTranslate(0,0),g.style.display="block",e.style.display="none",c.trigger("backwardTransitionEnd")})}});return h}),define("#mix/sln/0.1.0/modules/page",["mix/core/0.3.0/base/reset","mix/core/0.3.0/base/class","mix/core/0.3.0/base/message","mix/core/0.3.0/url/navigate"],function(a){a("mix/core/0.3.0/base/reset");var b=window,c=(b.document,a("mix/core/0.3.0/base/class")),d=a("mix/core/0.3.0/base/message"),e=a("mix/core/0.3.0/url/navigate").singleton,f=c.create({Implements:d,initialize:function(a,b){var c=this;d.prototype.initialize.call(this,"app."+a),c._appname=a,c._isReady=!1,c._bindRoutes(b.routes),c.on("ready",function(a){c._isReady||(c._isReady=!0,c.ready(a))}),c.on("unload",function(){c._isReady&&(c._isReady=!1,c.unload())})},_bindRoutes:function(a){var b=this,c=b._appname;Object.each(a,function(a,d){var f=a.text,g=a.callback;"default"===d&&(a["default"]=!0),a.callback=function(){Object.isTypeof(g,"string")&&(g=b[g]),b._isReady?g.apply(b,arguments):b.once("ready",function(){g.apply(b,arguments)})},e.addRoute(c+"."+d,f,a)})},ready:function(){},unload:function(){}});return f}),define("#mix/sln/0.1.0/app",["mix/core/0.3.0/base/reset","mix/core/0.3.0/base/class","mix/core/0.3.0/url/router","mix/core/0.3.0/url/navigate","mix/sln/0.1.0/modules/gesture","mix/sln/0.1.0/modules/scroll","mix/sln/0.1.0/modules/transition","mix/sln/0.1.0/modules/page","mix/sln/0.1.0/app"],function(a){function p(a){function d(a){return h.backward(),a.preventDefault(),!1}function f(){var a=c._module,b=1>h.getStateIndex()?"hidden":"";a.style.visibility!==b&&(a.style.visibility=b)}var c,b=m.components;a||(a=e.querySelector('*[is="x-back"]')),a&&(c=b.xBack={_module:a,_isEnabled:!1,_isAutoHide:"true"===a.getAttribute("autoHide")?!0:!1,enable:function(){var a=this,b=a._module;b&&!a._isEnabled&&(a._isEnabled=!0,b.addEventListener("click",d,!1),a.autoHide(a._isAutoHide))},disable:function(){var b=this,c=b._module;c&&b._isEnabled&&(b._isEnabled=!1,a.removeEventListener("click",d),b.autoHide=!1)},autoHide:function(a){var b=this,c=b._module;c&&(b._isAutoHide=a,a?(f(),h.on("forward backward",f)):(c.style.visibility="",h.off("forward backward",f)))}},c.enable())}function q(a){var c,b=m.components;a||(a=e.querySelector('*[is="x-scroll"]')),a&&(a.className+=(a.className?" ":"")+"scrollport",c=b.xScroll=Object.extend({_module:m.ui.scroll(a),getViewport:function(){return this._module.getElement()}},n),c.enable())}function r(a){var c,b=m.components;a||(a=e.querySelector('*[is="x-transition"]')),a&&(a.className+=(a.className?" ":"")+"transitionport",c=b.xTransition=Object.extend({_module:m.ui.transition(a),getViewport:function(){var a=this,b=a._isEnabled;return b?this._module.getActivePort():a._module.getElement()}},n),c.enable())}function s(a){var c,b=m.components;a||(a=e.querySelector('*[is="x-viewport"]')),a&&(a.className+=(a.className?" ":"")+"viewport",c=b.xViewport={_module:a,_content:null,_isEnabled:!1,_isEnableScroll:"true"===a.getAttribute("enableScroll")?!0:!1,_isEnableTransition:"true"===a.getAttribute("enableTransition")?!0:!1,enable:function(){var c,a=this,b=a._module;b&&!a._isEnabled&&(a._isEnabled=!0,c=e.createElement("div"),b.appendChild(c),a._isEnableScroll&&(b.style.overflowY="hidden",b.style.height="100%",q(c)),a._isEnableTransition&&(b.style.overflowX="hidden",b.style.width="100%",r(c)),a._content=c)},disable:function(){var a=this,b=a._module;b&&a._isEnabled&&(a._isEnabled=!1)},getViewport:function(){var a=this,b=m.components;return a._isEnableTransition?b.xTransition.getViewport():a._isEnableScroll?b.xScroll.getViewport():a._content}},c.enable())}function t(){function d(b){var c=b.name.split(".")[0];if(a!==c){var d=o[a],e=o[c];a=c,d&&d.trigger("unload"),e&&e.trigger("ready",b)}}function e(a){var b=c._module;b.once(a.move+"TransitionEnd",function(){d(a)}),b[a.move]()}var a=null,b=m.components,c=b.xTransition;h.on("forward backward",c?e:d)}a("mix/core/0.3.0/base/reset");var d=window,e=d.document,g=(a("mix/core/0.3.0/base/class"),a("mix/core/0.3.0/url/router").singleton),h=a("mix/core/0.3.0/url/navigate").singleton,i=a("mix/sln/0.1.0/modules/gesture"),j=a("mix/sln/0.1.0/modules/scroll"),k=a("mix/sln/0.1.0/modules/transition"),l=a("mix/sln/0.1.0/modules/page"),m={theme:"ios",routePrefix:0,routePrefixSep:"/",components:{}},n={_isEnabled:!1,enable:function(){this._module&&!this._isEnabled&&(this._module.enable(),this._isEnabled=!0)},disable:function(){this._module&&this._isEnabled&&(this._module.disable(),this._isEnabled=!1)}},o={};Object.extend(m,{init:function(a){var c=a.name,d=a.routes||{};delete a.name,delete a.routes;var e=new l(c,{routePrefix:m.routePrefix,routePrefixSep:m.routePrefixSep,routes:d});Object.extend(e,a),o[c]=e},getViewport:function(){var a=m.components;return a.xViewport.getViewport()},router:g,navigate:h,ui:{gesture:function(a){return new i(a)},scroll:function(a){return new j(a)},transition:function(a){return new k(a)}}}),p(),q(),r(),s(),t(),d.app=m}),require("mix/sln/0.1.0/app");