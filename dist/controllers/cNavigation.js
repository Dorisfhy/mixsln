define("#mix/sln/0.1.0/controllers/cNavigation",["mix/core/0.3.0/base/reset","mix/core/0.3.0/base/class","mix/core/0.3.0/url/navigate","mix/sln/0.1.0/modules/page"],function(a){a("mix/core/0.3.0/base/reset");var d=window,f=(d.document,a("mix/core/0.3.0/base/class")),g=a("mix/core/0.3.0/url/navigate").singleton,h=a("mix/sln/0.1.0/modules/page"),i={},j=h.STATUS,k=f.create({initialize:function(a){var b=this,c=a.name.split(".");b._appName=c[0],b._routeName=c[1],b._state=a},getAppName:function(){return this._appName},getRouteName:function(){return this._routeName},getState:function(){return this._state},getParameter:function(a){return this._state.params[a]},getArgument:function(a){return this._state.args[a]},getData:function(a){return this._state.datas[a]},push:function(a,b){g.forward(a,b)},pull:function(){g.backward()},fill:function(a,b){function f(){e.renderTemplate(a,function(a){app.fillViewport(a),b&&b()})}var c=this,d=c._appName,e=i[d];e.compiledTemplate?f():e.once("compiled",f)},ready:function(){var a=this,b=a._appName,c=i[b];c.getStatus()<j.READY&&(c.setStatus(j.READY),c.trigger("ready",a))},compile:function(){function d(){c.getStatus()<j.COMPILED&&(c.setStatus(j.COMPILED),c.trigger("compiled"))}var a=this,b=a._appName,c=i[b];c.compiledTemplate?d():c.loadTemplate(function(a){c.compileTemplate(a,function(){d()})})},unload:function(){var a=this,b=a._appName,c=i[b];c.getStatus()>j.UNLOADED&&(c.setStatus(j.UNLOADED),c.trigger("unloaded"))}});return k.addPage=function(a){var b=a.name,c=a.route;Object.isTypeof(c,"string")&&(c={name:"anonymous",text:c}),g.addRoute(b+"."+c.name,c.text,c),i[b]=a},k.getPage=function(a){return i[a]},k.listen=function(a){g.on("forward backward",a)},k});